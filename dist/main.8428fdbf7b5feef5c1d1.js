(()=>{var e={138:()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n,o,r,a,s,c,l=[],d=document.querySelectorAll(".lw-office-item"),u=null;function m(e){r=new google.maps.LatLngBounds,e.markers.forEach((function(e){r.extend({lat:e.position.lat(),lng:e.position.lng()})})),1==e.markers.length?e.setCenter(r.getCenter()):e.fitBounds(r)}d.forEach((function(e){return e.addEventListener("mouseover",(function(){n.markers.map((function(t){t.id==e.dataset.id&&(t.setIcon(s),t.setZIndex(100))}))}))})),d.forEach((function(e){return e.addEventListener("mouseout",(function(){n.markers.map((function(t){t.id==e.dataset.id&&u!==t&&(t.setIcon(a),t.setZIndex(0))}))}))})),document.addEventListener("DOMContentLoaded",(function(){o=document.querySelectorAll(".marker");var t={zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!1};return window.innerWidth>767&&(t.gestureHandling="greedy"),(n=new google.maps.Map(document.getElementById("f-map"),t)).markers=[],o.forEach((function(t){!function(t,n){var o=t.dataset.lat,r=t.dataset.lng,i=t.dataset.id,m=t.querySelector(".lw-office-item--county"),f=t.querySelector(".lw-office-item--city"),p=t.querySelector(".lw-office-item--address .street_name"),g=t.querySelector(".lw-office-item--address .street_number"),v=t.querySelector(".lw-office-item--address .post_code");a={url:"".concat(lwGlobal.templateDir,"/assets/img/icons/map-pin.png"),scaledSize:new google.maps.Size(27,40)},s={url:"".concat(lwGlobal.templateDir,"/assets/img/icons/map-pin-red.png"),scaledSize:new google.maps.Size(36,56)},c={url:"".concat(lwGlobal.templateDir,"/assets/img/icons/myposition-icon.png"),scaledSize:new google.maps.Size(24,24)};var h={lat:parseFloat(o),lng:parseFloat(r)};t=new google.maps.Marker({position:h,map:n,id:i,icon:a,county:m.textContent,city:f.textContent,address:f.textContent+" "+m.textContent+" "+p.textContent+" "+g.textContent+", "+v.textContent,optimized:!1,animation:google.maps.Animation.DROP}),n.markers.push(t),l.push(t),t.addListener("click",(function(){n.markers.map((function(e){e.setZIndex(0),e.setIcon(a)})),u!==t?(u=t,t.setZIndex(100),t.setIcon(s),d.forEach((function(e){return e.classList.add("hide")})),e(d).find((function(e){return e.dataset.id==t.id})).classList.remove("hide")):(u=null,t.setIcon(a),d.forEach((function(e){return e.classList.remove("hide")})))}))}(t,n)})),m(n),n}));var f=document.querySelector("#location-btn");function p(e){return e*Math.PI/180}function g(e,t){console.log(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}f.addEventListener("click",(function(t){navigator.geolocation?(f.innerHTML="Hittar din närmaste Francks",navigator.geolocation.getCurrentPosition((function(o){t={lat:parseFloat(o.coords.latitude),lng:parseFloat(o.coords.longitude)},n.setCenter(t),n.setZoom(8),f.innerHTML="Använd min position",myMarker=new google.maps.Marker({position:t,map:n,icon:c,optimized:!1,animation:google.maps.Animation.BOUNCE}),setTimeout((function(){myMarker.setAnimation(null)}),2200);var r=t.lat,a=t.lng,m=[],g=-1;for(i=0;i<l.length;i++){var v=l[i].position.lat(),h=l[i].position.lng(),y=p(v-r),w=p(h-a),I=Math.sin(y/2)*Math.sin(y/2)+Math.cos(p(r))*Math.cos(p(r))*Math.sin(w/2)*Math.sin(w/2),S=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I))*6371;m[i]=S,(-1==g||S<m[g])&&(g=i)}l[g].setIcon(s),l[g].setZIndex(100),u=l[g],d.forEach((function(e){return e.classList.add("hide")})),e(d).find((function(e){return e.dataset.id==l[g].id})).classList.remove("hide")}),(function(){g(!0,n.getCenter())}))):g(!1,n.getCenter())}));var v=document.querySelector("#uparrow"),h=document.querySelector(".lw-map--offices");v.addEventListener("click",(function(){h.classList.toggle("active")}));var y=document.querySelector(".lw-map--search--input");function w(){n.markers.map((function(e){e.setZIndex(0),e.setIcon(a)})),d.forEach((function(e){return e.classList.remove("hide")})),y.value="",m(n)}document.querySelector(".nothing-found"),y&&y.addEventListener("keyup",(function(e){var t,n;for(t=y.value.toUpperCase(),n=0;n<d.length;n++)(d[n].textContent||d[n].innerText).toUpperCase().indexOf(t)>-1?d[n].classList.remove("hide"):d[n].classList.add("hide");for(n=0;n<l.length;n++)l[n].address.toUpperCase().indexOf(t)>-1?(l[n].setIcon(s),l[n].setZIndex(100),u=l[n]):(l[n].setIcon(a),l[n].setZIndex(0));""===y.value&&w()})),document.querySelector(".reset-offices").addEventListener("click",w);var I=document.querySelectorAll(".lw-office-item--find-btn");I&&I.forEach((function(e){return e.addEventListener("click",(function(){e.parentNode.classList.toggle("active")}))}))}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(138)})()})();